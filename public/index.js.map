{"version":3,"sources":["src/components/Header.js","src/components/Footer.js","src/components/Home.js","src/components/Messages.js","src/components/Tags.js","src/components/Message.js","src/components/MessageUpdate.js","index.js"],"names":["Header","Footer","Home","Messages","messages","docs","map","message","messageData","data","title","content","id","join","Tags","tags","tag","tagData","tagName","Message","firebase","firestore","collection","doc","get","then","document","querySelector","innerHTML","MessageUpdate","pageBuild","header","navHome","navMessages","footer","addEventListener","getAppContext","getDatabaseCollectionContext","focusOnSingularMessage","event","target","classList","contains","messageTitle","parentElement","value","messageContent","add","setTimeout","messageId","getDatabaseTagContext","console","log","delete","getDatabaseItemContext","update","app","messagesRef","messageRef","tagsRef"],"mappings":";AAUC,aAVc,SAASA,IACtB,MAAA,uTASD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACNA,aAJc,SAASC,IACtB,MAAA,oDAGD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACGA,aAPc,SAASC,IACtB,MAAA,wMAMD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACkBA,aAzBc,SAASC,EAASC,GAIzBA,MAAAA,qDAAAA,OAAAA,EAASC,KACRC,IAAI,SAAAC,GACGC,IAAAA,EAAcD,EAAQE,OAGPD,MAAAA,0FAAAA,OAAAA,EAAYE,MACXF,yCAAAA,OAAAA,EAAYG,QAC+BJ,oFAAAA,OAAAA,EAAQK,GAJzE,kMAUDC,KAAK,IAhBZ,8VAwBD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACXA,aAdc,SAASC,EAAKC,GAInBA,MAAAA,mDAAAA,OAAAA,EAAKV,KACJC,IAAI,SAAAU,GACGC,IAAAA,EAAUD,EAAIP,OAEmBQ,MAAAA,sDAAAA,OAAAA,EAAQC,QAD/C,+BAIDL,KAAK,IAVd,8BAaD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;AC2BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAzCD,IAAA,EAAA,EAAA,QAAA,WAyCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvCc,SAASM,EAAQZ,GACxBC,IAAAA,EAAcD,EAAQE,OAQZD,OAqBHY,SAASC,YACjBC,WAAW,YACXC,IAAIhB,EAAQK,IACZU,WAAW,QACXE,MACAC,KAAK,SAAAV,GACJW,SAASC,cAAc,SAASC,WAAY,EAAKb,EAAAA,SAAAA,KA3BvCP,4IAAAA,OAAAA,EAAYE,MACbF,0BAAAA,OAAAA,EAAYG,QAQwCJ,mcAAAA,OAAAA,EAAQK,GAMVL,8QAAAA,OAAAA,EAAQK,GAnBzE;;ACFD,aALc,SAASiB,IACtB,MAAA,6HAID,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;;;ACkLA,aAvLD,IAAA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,8BACA,EAAA,EAAA,QAAA,6BACA,EAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,0BAiLC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5KD,SAASC,IACPC,IACAC,IACAC,IACAC,IAGF,SAASH,IACQL,SAASC,cAAc,WAC/BC,WAAY,EAAnB,EAAA,WAGF,SAASM,IACQR,SAASC,cAAc,WAC/BC,WAAY,EAAnB,EAAA,WAGF,SAASI,IACYN,SAASC,cAAc,mBAC/BQ,iBAAiB,QAAS,WACnCC,IAAgBR,WAAY,EAA5B,EAAA,aAIJ,SAASK,IAEgBP,SAASC,cAAc,uBAC/BQ,iBAAiB,QAAS,WACvCE,IACGb,MACAC,KAAK,SAAArB,GACJgC,IAAgBR,WAAY,EAASxB,EAAAA,SAAAA,KAEzCkC,MAIFF,IAAgBD,iBAAiB,QAAS,WACpCI,GAAAA,MAAMC,OAAOC,UAAUC,SAAS,uBAAwB,CACpDC,IAAAA,EAAeJ,MAAMC,OAAOI,cAAcjB,cAC9C,8BACAkB,MACIC,EAAiBP,MAAMC,OAAOI,cAAcjB,cAChD,6BACAkB,MAEFR,IAA+BU,IAAI,CACjCrC,MAAOiC,EACPhC,QAASmC,IAGXV,IAAgBR,WAAY,EAA5B,EAAA,WACAoB,WAAW,WACTX,IACGb,MACAC,KAAK,SAAArB,GACJgC,IAAgBR,WAAY,EAASxB,EAAAA,SAAAA,MAExC,QAIPgC,IAAgBD,iBAAiB,QAAS,WACpCI,GAAAA,MAAMC,OAAOC,UAAUC,SAAS,mBAAoB,CAChDxB,IAAAA,EAAUqB,MAAMC,OAAOI,cAAcjB,cACzC,qBACAkB,MACII,EAAYV,MAAMC,OAAOI,cAAcjB,cAC3C,uBACAkB,MAEFK,EAAsBD,GAAWF,IAAI,CACnC7B,QAASA,IAGXgC,EAAsBD,GACnBzB,MACAC,KAAK,SAAAV,GACJW,SAASC,cAAc,SAASC,WAAY,EAAKb,EAAAA,SAAAA,QAMzDqB,IAAgBD,iBAAiB,QAAS,WACpCI,GAAAA,MAAMC,OAAOC,UAAUC,SAAS,0BAA2B,CACvDO,IAAAA,EAAYV,MAAMC,OAAOI,cAAcjB,cAC3C,uBACAkB,MACFM,QAAQC,IAAIH,GAEZZ,IACGd,IAAI0B,GACJI,SACHhB,IACGb,MACAC,KAAK,SAAArB,GACJgC,IAAgBR,WAAY,EAASxB,EAAAA,SAAAA,QAM7CgC,IAAgBD,iBAAiB,QAAS,WACpCI,GAAAA,MAAMC,OAAOC,UAAUC,SAAS,0BAA2B,CACvDO,IAAAA,EAAYV,MAAMC,OAAOI,cAAcjB,cAC3C,uBACAkB,MACIF,EAAeJ,MAAMC,OAAOI,cAAcjB,cAC9C,iCACAkB,MACIC,EAAiBP,MAAMC,OAAOI,cAAcjB,cAChD,gCACAkB,MAEFS,EAAuBL,GAAWM,OAAO,CACvC7C,MAAOiC,EACPhC,QAASmC,IAGXQ,EAAuBL,GACpBzB,MACAC,KAAK,SAAAlB,GACJmB,SAASC,cAAc,0BAA0BC,WAAY,EAC3DrB,EAAAA,SAAAA,QAQZ,SAAS+B,IACPF,IAAgBD,iBAAiB,QAAS,WACpCI,MAAMC,OAAOC,UAAUC,SAAS,yBAKlCY,EAJkBf,MAAMC,OAAOI,cAAcjB,cAC3C,uBACAkB,OAGCrB,MACAC,KAAK,SAAAlB,GACJ6B,IAAgBR,WAAY,EAAQrB,EAAAA,SAAAA,OAM9C,SAAS6B,IAEAoB,OADK9B,SAASC,cAAc,QAIrC,SAASU,IAGAoB,OAFIrC,SAASC,YACGC,WAAW,YAIpC,SAASgC,EAAuB1C,GAGvB8C,OAFItC,SAASC,YACEC,WAAW,YAAYC,IAAIX,GAInD,SAASsC,EAAsBD,GAMtBU,OALIvC,SAASC,YAEjBC,WAAW,YACXC,IAAI0B,GACJ3B,WAAW,QA9KhB,QAAA,mBAEAQ","file":"index.js","sourceRoot":"..","sourcesContent":["export default function Header() {\r\n  return `\r\n           <nav class= 'nav'>\r\n                <h1 class= 'nav-logo'>MyMessagesApp</h1>\r\n                <ul class= 'nav-list'>\r\n                    <li class= 'nav-list__home'>Home</li>\r\n                    <li class= 'nav-list__messages'>Messages</li>\r\n                </ul>\r\n            </nav>\r\n        `;\r\n}\r\n","export default function Footer() {\r\n  return `\r\n            <small>&copy 2019</small>\r\n        `;\r\n}\r\n","export default function Home() {\r\n  return `\r\n        <div class='main-content'>\r\n        <h1 class='main-content__welcome'>Welcome to my message board</h1>\r\n        <h3 class='main-content__text'>Using Firebase</h3>\r\n        <div>\r\n        `;\r\n}\r\n","export default function Messages(messages) {\r\n  return `\r\n      <div>\r\n      <h1>My Messages </h1>\r\n      ${messages.docs\r\n        .map(message => {\r\n          const messageData = message.data();\r\n          return `\r\n              <section class='main-content__messages'>\r\n                  <h3>Title: ${messageData.title}</h3>\r\n                  <p>Content: ${messageData.content}</p>\r\n                  <input class='delete-message__id' type='hidden' value=\"${message.id}\">\r\n                  <button class='delete-message__submit'>&times</button>\r\n                  <button class='edit-message__submit'>...</button>\r\n              </section>\r\n              `;\r\n        })\r\n        .join('')}\r\n      </div>\r\n      <section class='add-message'>\r\n        <input class='add-message__messageTitle' type='text' name='title' placeholder='message title'>\r\n        <input class='add-message__messageBody type='text' name='content' placeholder='message content'>\r\n        <button class='add-message__submit'>Submit</button>\r\n    </section>\r\n      `;\r\n}\r\n","export default function Tags(tags) {\r\n  return `\r\n        <div>\r\n        <h3>Tags</h3>\r\n        ${tags.docs\r\n          .map(tag => {\r\n            const tagData = tag.data();\r\n            return `\r\n                <span class='main-content__tags'>${tagData.tagName}</span>\r\n                `;\r\n          })\r\n          .join('')}\r\n        </div>\r\n        `;\r\n}\r\n","import Tags from './Tags';\r\n\r\nexport default function Message(message) {\r\n  const messageData = message.data();\r\n\r\n  loadTags();\r\n\r\n  return `\r\n        <h1>MyMessagesApp</h1>\r\n        <h3>You have a message.</h3>\r\n        <section class='main-content__message'>\r\n            <h3>${messageData.title}</h3>\r\n            <p>${messageData.content}</p>\r\n            <div class=\"tags\"></div>\r\n        </section>\r\n            \r\n        <section class='update-message'>\r\n            <input class='update-message__messageTitle' type='text' placeholder='edit title'>\r\n            <input class='update-message__messageBody' type='text' placeholder='edit content'>\r\n            <button class='update-message__submit'>Edit</button>\r\n            <input class='update-message__id' type='hidden' value=\"${message.id}\">\r\n        </section>\r\n\r\n        <section class='add-tag'>\r\n          <input class='add-tag__tagName' type='text' placeholder='add a tag'>\r\n          <button class = 'add-tag__submit'>Add</button>\r\n          <input class='add-tag__messageId' type='hidden' value=\"${message.id}\">\r\n        </section>\r\n    \r\n        `;\r\n\r\n  function loadTags() {\r\n    const db = firebase.firestore();\r\n    db.collection('messages')\r\n      .doc(message.id)\r\n      .collection('tags')\r\n      .get()\r\n      .then(tags => {\r\n        document.querySelector('.tags').innerHTML = Tags(tags);\r\n      });\r\n  }\r\n}\r\n","export default function MessageUpdate() {\r\n  return `\r\n     <h1>MyMessagesApp Update Notice</h1>\r\n      <h2 class='main-content__update'>Message successfully sent</h2>\r\n      `;\r\n}\r\n","import Header from './src/components/Header';\r\nimport Footer from './src/components/Footer';\r\nimport Home from './src/components/Home';\r\nimport Messages from './src/components/Messages';\r\nimport Message from './src/components/Message';\r\nimport MessageUpdate from './src/components/MessageUpdate';\r\nimport Tags from './src/components/Tags';\r\nimport './css/style.css';\r\n\r\npageBuild();\r\n\r\nfunction pageBuild() {\r\n  header();\r\n  navHome();\r\n  navMessages();\r\n  footer();\r\n}\r\n\r\nfunction header() {\r\n  const header = document.querySelector('#header');\r\n  header.innerHTML = Header();\r\n}\r\n\r\nfunction footer() {\r\n  const footer = document.querySelector('#footer');\r\n  footer.innerHTML = Footer();\r\n}\r\n\r\nfunction navHome() {\r\n  const homeButton = document.querySelector('.nav-list__home');\r\n  homeButton.addEventListener('click', function() {\r\n    getAppContext().innerHTML = Home();\r\n  });\r\n}\r\n\r\nfunction navMessages() {\r\n  //get request\r\n  const messagesButton = document.querySelector('.nav-list__messages');\r\n  messagesButton.addEventListener('click', function() {\r\n    getDatabaseCollectionContext()\r\n      .get()\r\n      .then(messages => {\r\n        getAppContext().innerHTML = Messages(messages);\r\n      });\r\n    focusOnSingularMessage();\r\n  });\r\n\r\n  //post request\r\n  getAppContext().addEventListener('click', function() {\r\n    if (event.target.classList.contains('add-message__submit')) {\r\n      const messageTitle = event.target.parentElement.querySelector(\r\n        '.add-message__messageTitle'\r\n      ).value;\r\n      const messageContent = event.target.parentElement.querySelector(\r\n        '.add-message__messageBody'\r\n      ).value;\r\n\r\n      getDatabaseCollectionContext().add({\r\n        title: messageTitle,\r\n        content: messageContent\r\n      });\r\n\r\n      getAppContext().innerHTML = MessageUpdate();\r\n      setTimeout(function() {\r\n        getDatabaseCollectionContext()\r\n          .get()\r\n          .then(messages => {\r\n            getAppContext().innerHTML = Messages(messages);\r\n          });\r\n      }, 3000);\r\n    }\r\n  });\r\n\r\n  getAppContext().addEventListener('click', function() {\r\n    if (event.target.classList.contains('add-tag__submit')) {\r\n      const tagName = event.target.parentElement.querySelector(\r\n        '.add-tag__tagName'\r\n      ).value;\r\n      const messageId = event.target.parentElement.querySelector(\r\n        '.add-tag__messageId'\r\n      ).value;\r\n\r\n      getDatabaseTagContext(messageId).add({\r\n        tagName: tagName\r\n      });\r\n\r\n      getDatabaseTagContext(messageId)\r\n        .get()\r\n        .then(tags => {\r\n          document.querySelector('.tags').innerHTML = Tags(tags);\r\n        });\r\n    }\r\n  });\r\n\r\n  //delete request\r\n  getAppContext().addEventListener('click', function() {\r\n    if (event.target.classList.contains('delete-message__submit')) {\r\n      const messageId = event.target.parentElement.querySelector(\r\n        '.delete-message__id'\r\n      ).value;\r\n      console.log(messageId);\r\n\r\n      getDatabaseCollectionContext()\r\n        .doc(messageId)\r\n        .delete();\r\n      getDatabaseCollectionContext()\r\n        .get()\r\n        .then(messages => {\r\n          getAppContext().innerHTML = Messages(messages);\r\n        });\r\n    }\r\n  });\r\n\r\n  //update request\r\n  getAppContext().addEventListener('click', function() {\r\n    if (event.target.classList.contains('update-message__submit')) {\r\n      const messageId = event.target.parentElement.querySelector(\r\n        '.update-message__id'\r\n      ).value;\r\n      const messageTitle = event.target.parentElement.querySelector(\r\n        '.update-message__messageTitle'\r\n      ).value;\r\n      const messageContent = event.target.parentElement.querySelector(\r\n        '.update-message__messageBody'\r\n      ).value;\r\n\r\n      getDatabaseItemContext(messageId).update({\r\n        title: messageTitle,\r\n        content: messageContent\r\n      });\r\n\r\n      getDatabaseItemContext(messageId)\r\n        .get()\r\n        .then(message => {\r\n          document.querySelector('.main-content__message').innerHTML = Message(\r\n            message\r\n          );\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\n//allows for focus on the single post\r\nfunction focusOnSingularMessage() {\r\n  getAppContext().addEventListener('click', function() {\r\n    if (event.target.classList.contains('edit-message__submit')) {\r\n      const messageId = event.target.parentElement.querySelector(\r\n        '.delete-message__id'\r\n      ).value;\r\n\r\n      getDatabaseItemContext(messageId)\r\n        .get()\r\n        .then(message => {\r\n          getAppContext().innerHTML = Message(message);\r\n        });\r\n    }\r\n  });\r\n}\r\n\r\nfunction getAppContext() {\r\n  const app = document.querySelector('#app');\r\n  return app;\r\n}\r\n\r\nfunction getDatabaseCollectionContext() {\r\n  const db = firebase.firestore();\r\n  const messagesRef = db.collection('messages');\r\n  return messagesRef;\r\n}\r\n\r\nfunction getDatabaseItemContext(id) {\r\n  const db = firebase.firestore();\r\n  const messageRef = db.collection('messages').doc(id);\r\n  return messageRef;\r\n}\r\n\r\nfunction getDatabaseTagContext(messageId) {\r\n  const db = firebase.firestore();\r\n  const tagsRef = db\r\n    .collection('messages')\r\n    .doc(messageId)\r\n    .collection('tags');\r\n  return tagsRef;\r\n}\r\n"]}